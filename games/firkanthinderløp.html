
function gameLoop() {
  // Hopp
  if (jumping) {
    let bottom = parseInt(player.style.bottom);
    bottom += jumpSpeed;
    jumpSpeed -= gravity;
    if (bottom <= 0) {
      bottom = 0;
      jumping = false;
      jumpSpeed = 0;
    }
    player.style.bottom = bottom + 'px';
  }

  // Flytt hindringer
  obstacles.forEach((obs, index) => {
    let left = parseInt(obs.style.left);
    left -= obs.speed;
    obs.style.left = left + 'px';

    // Kollisjon
    let obsLeft = left;
    let obsRight = left + obs.offsetWidth;
    let obsTop = obs.offsetHeight;

    let playerLeft = parseInt(player.style.left);
    let playerRight = playerLeft + playerWidth;
    let playerBottom = parseInt(player.style.bottom);
    let playerTop = playerBottom + playerHeight;

    if (obsRight > playerLeft && obsLeft < playerRight &&
        playerBottom < obsTop) {
      gameOver(); // **kun her trigger Game Over**
    }

    // Fjern hindring hvis den går ut av skjermen – **ingen Game Over her**
    if (left + obs.offsetWidth < 0) {
      obs.remove();
      obstacles.splice(index, 1);
      score++;
      scoreDisplay.textContent = 'Poeng: ' + score;
    }
  });
}
